# Домашнее задание к занятию 11.2 "Кеширование Redis/memcached"

Домашнее задание выполните в Google Docs и отправьте в личном кабинете на проверку ссылку на ваш документ.

Название файла должно содержать номер лекции и фамилию студента. Пример названия: "11.2 Кеширование Redis/memcached - Александр Александров"

Перед тем как выслать ссылку, убедитесь, что ее содержимое не является приватным (открыто на просмотр всем, у кого есть ссылка). Если необходимо прикрепить дополнительные ссылки, просто добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

### Задание 1. Кэширование. 

Приведите примеры проблем, которые может решить кэширование. 

*Приведите ответ в свободной форме.*

Кэширование очень активно используют во множестве систем. Например:

- Внутренний кэш баз данных.
- DNS кэш внутри нашего компьютера или браузера.
- Кэш статического контента в браузере.
- CDN также является своего рода кэшем.
В любом приложении есть операции, которые долго выполнялись, но результат которых можно сохранить на какое-то время. Это позволит меньше выполнять таких операций и отдавать заранее сохранённые данные.

Можно кэшировать

- Запросы в базу данных.
- Пользовательские сессии.
- Медленные операции внутри приложения (расчеты, какие-то итоговые данные и т. д.)
- Запросы к внешним системам.
---

### Задание 2. Memcached.

Установите и запустите memcached.

*Приведите скриншот systemctl status memcached, где будет видно, что memcached запущен.*

```
root@terr:~# systemctl status memcached.service
● memcached.service - memcached daemon
     Loaded: loaded (/lib/systemd/system/memcached.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2022-02-23 15:30:43 UTC; 8s ago
       Docs: man:memcached(1)
   Main PID: 1245 (memcached)
      Tasks: 10 (limit: 2311)
     Memory: 1.6M
     CGroup: /system.slice/memcached.service
             └─1245 /usr/bin/memcached -m 64 -p 11211 -u memcache -l 127.0.0.1 -P /var/run/memcached/memcached.pid

Feb 23 15:30:43 terr systemd[1]: Started memcached daemon.
```
---

### Задание 3. Удаление по TTL в Memcached.

Запишите в memcached несколько ключей с любыми именами и значениями, для которых выставлен TTL 5. 

*Приведите скриншот, на котором видно, что спустя 5 секунд ключи удалилсь из базы.*

```
добавил два ключа вот таким способом, 

add key 0 5 2
hi
STORED
add key1 0 5 2
QQ
STORED
get key key1

показать ключи в базе, 

get key key1

но я не успел выловить что были ключи, из за этого использовал команду stats

STAT expired_unfetched 2

вот два моих протухших ключа,
```
инфу брал отсюда https://zinvapel.github.io/it/tools/2017/11/27/cache/


---

### Задание 4. Запись данных в Redis. 

Запишите в redis несколько ключей с любыми именами и значениями. 

*Через redis-cli достаньте все записанные ключи и значения из базы, приведите скриншот этой операции.*

```
добавил 3 ключа со значениями, 

127.0.0.1:6379> set key privet
OK
127.0.0.1:6379> set key1 privet1
OK
127.0.0.1:6379> set key2 privet2
OK

вывод всех ключей, 

127.0.0.1:6379> Keys *
1) "key1"
2) "key"
3) "key2"

узнаем значением ключа, 

127.0.0.1:6379> get key2
"privet2"
127.0.0.1:6379>

```

## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

### Задание 5*. Работа с числами. 

Запишите в redis ключ key5 со значением типа "int" равным числу 5. Увеличьте его на 5, чтобы в итоге в значении лежало число 10.  

*Приведите скриншот, где будут проделаны все операции и будет видно, что значение key5 стало равно 10.*