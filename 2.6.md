
Задание 1
При каких событиях выполнение процесса переходит в режим ядра?

Приведите ответ в свободной форме.



Задание 2

Найдите имя автора модуля libcrc32c.

В качестве ответа приложите скриншот вывода команды.

знаю , знаю под рутом работать нельзя :)

```
root@slim-dev:~# /sbin/modinfo libcrc32c
filename:       /lib/modules/4.19.0-16-686-pae/kernel/lib/libcrc32c.ko
softdep:        pre: crc32c
license:        GPL
description:    CRC32c (Castagnoli) calculations
* author:         Clay Haapala <chaapala@cisco.com> *
```
Задание 3

Используя утилиту strace выясните какой системный вызов использует команда cd.

Примечание: она не является внешним файлом, но для наших целей можно схитрить: strace bash -c 'cd /tmp'.

В качестве ответа напишите название системного вызова.

```
stat64("/tmp", {st_mode=S_IFDIR|S_ISVTX|0777, st_size=4096, ...}) = 0
chdir("/tmp")
```

Дополнительные задания (со звездочкой*)
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

Задание 4
Соберите свой модуль и загрузите его в ядро.

Примечание: лучше использовать чистую виртуальную машину Ubuntu, чтобы нивелировать шанс сломать систему.

1) Установим необходимые пакеты:

apt-get install gcc make linux-headers-$(uname -r)

2) Создаем файл модуля:

```
mkdir kmod-hello_world
cd kmod-hello_world/
touch ./mhello.c
```


```
#define MODULE
#include <linux/module.h>
#include <linux/init.h>
#include <linux/kernel.h>

int init_module(void){
    printk("<1> Hello,World\n");
    return 0;
}

void cleanup_module(void){
    printk("<1> Goodbye.\n");
}
```
3) Создаем Makefile: touch ./Makefile

```
obj-m += mhello.o

hello-objs := mhello.c

all:
       make -C /lib/modules/$(shell uname -r)/build/ M=$(PWD) modules

clean:
       make -C /lib/modules/$(shell uname -r)/build/ M=$(PWD) clean
```

4) Собираем модуль и устанавливаем его с помощью insmod.

```
make all
insmod path/to/module.ko
```

В качестве ответа приложите скриншот вывода установки модуля в dmesg.


